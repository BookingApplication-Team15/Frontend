<div class="main-container">
	<div class="main">
		<div class="title">
			<h1>{{accommodationDetails?.title}}</h1>
		</div>

		<div class="info">
			<div class="leftInfo">
				<img [src] = "starFill" alt="Star">
				<div class="addressAndReview">
					<p>{{ratings.average}}</p>
					<p>{{ratings.count}} reviewers</p>
					<p>{{accommodationDetails?.address?.street}}, {{accommodationDetails?.address?.city}}, {{accommodationDetails?.address?.state}}</p>
				</div>
			</div>
			<div class="rightInfo">
				<img [src] = "star" alt="Star" class="star-favourite">
				<p>Save as favorite</p>
			</div>
		</div>

		<div class="pictures">
			<div class="main_picture">
				<img [src]="images[0]" alt="Slika levi-div">
			</div>

			<div class="side_pictures">
				<div class="inner_side_picture_up">
					<div class="picture">
						<img [src]="images[1]" alt="Side picture">
					</div>
					<div class="picture">
						<img [src]="images[2]" alt="Side picture" id="rightUp">
					</div>
				</div>
				<div class="inner_side_picture_down">
					<div class="picture">
						<img [src]="images[3]" alt="Side picture">
					</div>
					<div class="picture" id="overlayedImage" [routerLink]="['/accommodation-details-images']" [queryParams]="{img: images}">
							<img [src]="images[4]" alt="Side picture" [ngClass]="{'rightBottom':displayLinkToRemainingPictures}"  routerLinkActive="router-link-active">
						<div class="numberOfPictures">
							<h2 *ngIf="displayLinkToRemainingPictures == true" class="font-style">{{remainingPicturesCount}}+ photos</h2>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="buttons">
			<div class="datePickers">
				<div class="datePicker">
					<mat-form-field>
						<mat-label>Check in</mat-label>
						<input matInput [matDatepicker]="checkinPicker">
						<mat-hint>MM/DD/YYYY</mat-hint>
						<mat-datepicker-toggle matIconSuffix [for]="checkinPicker"></mat-datepicker-toggle>
						<mat-datepicker #checkinPicker></mat-datepicker>
					</mat-form-field>
				</div>
				<div class="datePicker">
					<mat-form-field>
						<mat-label>Check out</mat-label>
						<input matInput [matDatepicker]="checkoutPicker">
						<mat-hint>MM/DD/YYYY</mat-hint>
						<mat-datepicker-toggle matIconSuffix [for]="checkoutPicker"></mat-datepicker-toggle>
						<mat-datepicker #checkoutPicker></mat-datepicker>
					</mat-form-field>
				</div>

			</div>
			<div class="reservate">
				<button mat-raised-button>Reserve</button>
			</div>
		</div>

		<div class="description">
			<h2>Description</h2>
			<p>{{accommodationDetails?.description}}</p>

			<div class="amenities" *ngFor="let amenitie of amenitiesIcons">
				<div class="amenitie">
					<img [src]="amenitie.icon" alt="Amenitie">
					<p>{{amenitie.name}}</p>
				</div>
			</div>

			<hr>

			<div class="location">
				<h4>Location of apartment</h4>
				<div class="map">
					<google-map [options]="mapOptions" width="100%">
						<map-marker [position]="{ lat: spot.lat, lng: spot.lng }"></map-marker>
					</google-map>
				</div>
			</div>
		</div>

		<div class="commentsSection">
			<div class="comments">
				<div class="comments-container">
					<div class="review">
						<div class="reviewEl">
							<div class="reviewDisplay">
								<div class="reviewDisplayLeft">
									<h1>{{ratings.average}}</h1>
								</div>
								<div class="reviewDisplayRight">
									<div class="reviewDisplayRightUp">
										<h5>Excellent</h5>
									</div>
									<div class="reviewDisplayRightUp">
										<p>{{ratings.count}} reviewers</p>
									</div>
								</div>
							</div>

							<div class="oneReview">
								<div class="infoReview">
									<div class="rightReview">
										<p>5 - Excellent</p>
									</div>
									<div class="leftReview">
										<p class="progressValue">{{ratings.excellent}}</p>
									</div>
								</div>
								<mat-progress-bar mode="determinate" value="ratings.excellent" class="progressColor"></mat-progress-bar>
							</div>
							<div class="oneReview">
								<div class="infoReview">
									<div class="rightReview">
										<p>4 - Good</p>
									</div>
									<div class="leftReview">
										<p class="progressValue">{{ratings.good}}</p>
									</div>
								</div>
								<mat-progress-bar mode="determinate" value="ratings.good"></mat-progress-bar>
							</div>
							<div class="oneReview">
								<div class="infoReview">
									<div class="rightReview">
										<p>3 - Okay</p>
									</div>
									<div class="leftReview">
										<p class="progressValue">{{ratings.okay}}</p>
									</div>
								</div>
								<mat-progress-bar mode="determinate" value="ratings.okay"></mat-progress-bar>
							</div>
							<div class="oneReview">
								<div class="infoReview">
									<div class="rightReview">
										<p>2 - Poor</p>
									</div>
									<div class="leftReview">
										<p class="progressValue">{{ratings.poor}}</p>
									</div>
								</div>
								<mat-progress-bar mode="determinate" value="ratings.poor"></mat-progress-bar>
							</div>
							<div class="oneReview">
								<div class="infoReview">
									<div class="rightReview">
										<p>1 - Terrible</p>
									</div>
									<div class="leftReview">
										<p class="progressValue">{{ratings.terrible}}</p>
									</div>
								</div>
								<mat-progress-bar mode="determinate" value="ratings.terrible"></mat-progress-bar>
							</div>
						</div>
					</div>

					<div class="commentsAcc">
						<div *ngFor="let comment of displayedComments">
							<div class="comment">
								<h4>{{ comment.rating }}/5 {{ comment.ratingDescription }}  </h4>
								<h5>{{ comment.guestEmail }}	{{ comment.guestName }} {{ comment.guestLastName }}</h5>
								<p>{{comment.date}}</p>
								<p>{{ comment.content }}</p>
								<hr>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="expandCommentsButton">
				<button (click)="expandComments()" *ngIf="!allCommentsVisible" mat-raised-button>See all reviews</button>
			</div>
		</div>
	</div>
</div>
